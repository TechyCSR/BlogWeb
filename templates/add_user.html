{% extends 'base.html' %}

{% block content %}

{% for message in get_flashed_messages() %}


<div class="alert" role="alert" id="alertBox">
  <span class="alert-text">{{ message }}</span>
  <button type="button" class="dismiss-btn" aria-label="Close" onclick="dismissAlert()">Ã—</button>
</div>

{% endfor %}
<div style="color:red;">{{ form.email.errors|join(', ') }}</div>
<div style="color:red;">{{ form.password_hash.errors|join(', ') }}</div>

{% if name %}
	<p>Please <a href="{{ url_for('login')}}">Login</a>.</p>

	<br/><br/>


{% else %}
	<h1>Registration</h1>
<div>
	<form method="POST">
		{{ form.hidden_tag() }}

		{{ form.name.label(class="form-label") }}

		{{ form.name(class="form-control") }}
		<br/>

		{{ form.username.label(class="form-label") }}

		{{ form.username(class="form-control") }}
		<br/>

		{{ form.email.label(class="form-label") }}

		{{ form.email(class="form-control", render_kw={"data-error": "Invalid email format."}) }}
		<br/>

		{{ form.password_hash.label(class="form-label") }}

		{{ form.password_hash(class="form-control") }}
		<br/>

		{{ form.password_hash2.label(class="form-label") }}

		{{ form.password_hash2(class="form-control") }}
		<br/>

		{{ form.submit(class="btn btn-secondary") }}


	</form>
</div>

{% endif %}

{% endblock %}